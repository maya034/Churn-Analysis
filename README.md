![image](https://github.com/maya034/Churn-Analysis/assets/61015843/4747de26-fb67-4dc6-92ee-ebfc5f3aa0ac)# Telecom-Churn-Analysis
Exploring and analyzing the data to discover key factors responsible for customer churn and come up with ways/recommendations to ensure customer retention.
Predict behavior to retain customers. You can analyze all relevant customer data and develop focused customer retention programs. Each row represents a customer, each column contains customer’s attributes described on the column Metadata. The raw data contains 7043 rows (customers) and 21 columns (features). The “Churn” column is our 











{
  "version": "5.4.1",
  "flags": {},
  "shapes": [
    {
      "label": "vegetation",
      "points": [
        [
          7.566037735849051,
          119.76415094339623
        ],
        [
          57.56603773584905,
          192.4056603773585
        ],
        [
          70.77358490566036,
          309.85849056603774
        ],
        [
          128.7924528301887,
          385.3301886792453
        ],
        [
          2.8490566037735903,
          385.3301886792453
        ],
        [
          6.15094339622641,
          121.65094339622642
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "vegetation",
      "points": [
        [
          6.622641509433947,
          7.028301886792469
        ],
        [
          267.4716981132075,
          1.8396226415094499
        ],
        [
          255.2075471698113,
          24.481132075471713
        ],
        [
          3.7924528301886653,
          28.25471698113209
        ],
        [
          7.566037735849051,
          5.1415094339622796
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "chimney",
      "points": [
        [
          161.3396226415094,
          146.6509433962264
        ],
        [
          169.35849056603772,
          146.17924528301887
        ],
        [
          168.41509433962264,
          155.61320754716982
        ],
        [
          160.86792452830187,
          155.61320754716982
        ],
        [
          162.28301886792454,
          146.6509433962264
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          154.26415094339623,
          106.08490566037736
        ],
        [
          204.73584905660377,
          107.97169811320755
        ],
        [
          194.83018867924525,
          127.78301886792454
        ],
        [
          159.45283018867926,
          127.31132075471699
        ],
        [
          155.2075471698113,
          104.66981132075472
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          171.71698113207546,
          286.74528301886795
        ],
        [
          205.67924528301884,
          289.1037735849057
        ],
        [
          202.37735849056602,
          297.122641509434
        ],
        [
          174.54716981132074,
          299.9528301886793
        ],
        [
          170.3018867924528,
          287.2169811320755
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          205.67924528301884,
          258.91509433962267
        ],
        [
          246.24528301886792,
          259.85849056603774
        ],
        [
          252.37735849056602,
          266.933962264151
        ],
        [
          200.01886792452828,
          271.1792452830189
        ],
        [
          205.2075471698113,
          259.3867924528302
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          209.45283018867926,
          245.70754716981133
        ],
        [
          253.79245283018864,
          244.29245283018867
        ],
        [
          247.188679245283,
          254.19811320754718
        ],
        [
          201.43396226415095,
          259.3867924528302
        ],
        [
          207.0943396226415,
          246.17924528301887
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          216.0566037735849,
          130.14150943396228
        ],
        [
          235.39622641509433,
          114.10377358490567
        ],
        [
          238.69811320754715,
          143.3490566037736
        ],
        [
          219.83018867924525,
          145.23584905660377
        ],
        [
          215.58490566037736,
          130.61320754716982
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          283.5094339622641,
          219.76415094339623
        ],
        [
          339.64150943396226,
          206.5566037735849
        ],
        [
          348.13207547169816,
          295.2358490566038
        ],
        [
          286.33962264150944,
          219.76415094339623
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          403.3207547169811,
          287.688679245283
        ],
        [
          241.52830188679243,
          339.1037735849057
        ],
        [
          285.39622641509436,
          386.74528301886795
        ],
        [
          412.7547169811321,
          306.0849056603774
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          358.5094339622642,
          154.19811320754718
        ],
        [
          361.33962264150944,
          164.10377358490567
        ],
        [
          365.58490566037733,
          160.80188679245285
        ],
        [
          363.6981132075472,
          150.4245283018868
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          160.86792452830187,
          37.68867924528303
        ],
        [
          204.73584905660377,
          43.82075471698115
        ],
        [
          198.60377358490567,
          75.4245283018868
        ],
        [
          166.99999999999997,
          88.16037735849058
        ],
        [
          135.86792452830187,
          74.95283018867926
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          292.9433962264151,
          32.50000000000002
        ],
        [
          414.64150943396226,
          23.066037735849072
        ],
        [
          412.2830188679245,
          40.51886792452832
        ],
        [
          275.9622641509434,
          48.537735849056624
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          385.39622641509436,
          203.72641509433961
        ],
        [
          399.07547169811323,
          225.89622641509433
        ],
        [
          394.35849056603774,
          225.89622641509433
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          104.26415094339623,
          126.3679245283019
        ],
        [
          102.37735849056602,
          131.08490566037736
        ],
        [
          99.54716981132074,
          132.5
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          362.7547169811321,
          121.17924528301887
        ],
        [
          358.9811320754717,
          135.33018867924528
        ],
        [
          355.6792452830189,
          137.2169811320755
        ],
        [
          357.09433962264154,
          123.06603773584906
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          371.2452830188679,
          149.95283018867926
        ],
        [
          373.60377358490564,
          164.10377358490567
        ],
        [
          375.9622641509434,
          163.63207547169813
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          120.30188679245285,
          162.2169811320755
        ],
        [
          152.84905660377356,
          202.78301886792454
        ],
        [
          169.35849056603772,
          198.06603773584905
        ],
        [
          140.11320754716982,
          161.27358490566039
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          263.6981132075472,
          236.74528301886792
        ],
        [
          257.566037735849,
          264.57547169811323
        ],
        [
          282.09433962264154,
          243.82075471698113
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          281.15094339622635,
          252.78301886792454
        ],
        [
          278.3207547169811,
          292.87735849056605
        ],
        [
          292.4716981132075,
          303.72641509433964
        ],
        [
          297.18867924528297,
          257.5
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          139.1698113207547,
          345.70754716981133
        ],
        [
          214.1698113207547,
          372.59433962264154
        ],
        [
          231.15094339622638,
          371.6509433962264
        ],
        [
          247.56221315655273,
          389.0
        ],
        [
          149.54716981132074,
          386.74528301886795
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "wears",
      "points": [
        [
          247.66037735849054,
          149.00943396226415
        ],
        [
          249.54716981132074,
          232.97169811320754
        ],
        [
          262.2830188679245,
          230.14150943396226
        ],
        [
          260.86792452830184,
          148.53773584905662
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "wears",
      "points": [
        [
          210.39622641509433,
          156.08490566037736
        ],
        [
          245.3018867924528,
          155.14150943396226
        ],
        [
          244.35849056603772,
          241.46226415094338
        ],
        [
          208.50943396226413,
          239.5754716981132
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "yard_debris",
      "points": [
        [
          410.39622641509436,
          382.9716981132076
        ],
        [
          415.11320754716985,
          353.2547169811321
        ],
        [
          433.0,
          360.7859980139027
        ],
        [
          431.62264150943395,
          388.63207547169816
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    }
  ],
  "imagePath": "3651_after_hurricane.jpg",
  "imageData": "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAGGAbIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jihlbPl4PJ962/E+rLoTNeKj7EUnCHn5aKKdDcUzyXXbW0TxLJeMsgS/UXXlqejFd3zHvzUNtatPOGLjZcI6SSHJfaV+6B0x7UUUT3JMu4g+zW1uYGKlU2bzyfqPStPyriCwijM5kYQjBPy/LnIHHXmiis22Ui4Wkt4N8s5luHAYyeWMgEZAHpjNcvc3bnU9sg+WM5LKfmY9KKKaGad9Y/ZvDkWvK42yOVEOM8Y7n65rkfPmsNSjvAELo4kAB4+lFFX0B7Hq/mf2nZyLJGqxOu4AHkZx/jTLSCO1R4ol2opA4/iOOp96KK5mQSi0YyfOVxgMMdqn1Czt4RBtaST+Jt4A5HpiiipJMuV1UyuQ20AhgD1B7VQ+dUUnBIyc9+eMUUVSETaeEdpWOdoxge9bEOq2v2m10/ULVpgPliMTbNrep9etFFEio7kviWyVLmKO3dtkcgWTccEj2IrO0rVzBPqUMKGKVEBEq8njnvRRUnSilrN5I9gzB5EnYszMrYDBh0I+pqDwxrFtaSyTzRTvK42gq/bgHPr1ooq7aFRk7nXnxpa5OIboDsMrRRRWXKjbmZ//Z",
  "imageHeight": 390,
  "imageWidth": 434
}




BEFORE



{
  "version": "5.4.1",
  "flags": {},
  "shapes": [
    {
      "label": "chimney",
      "points": [
        [
          156.62264150943398,
          140.99056603773585
        ],
        [
          165.11320754716982,
          147.12264150943398
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "rectangle",
      "flags": {},
      "mask": null
    },
    {
      "label": "vegetation",
      "points": [
        [
          1.4339622641509493,
          1.8396226415094499
        ],
        [
          100.49056603773582,
          385.8018867924529
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "rectangle",
      "flags": {},
      "mask": null
    },
    {
      "label": "vegetation",
      "points": [
        [
          142.9433962264151,
          1.3679245283019028
        ],
        [
          293.88679245283015,
          47.59433962264153
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "rectangle",
      "flags": {},
      "mask": null
    },
    {
      "label": "vegetation",
      "points": [
        [
          429.2641509433962,
          170.23584905660377
        ],
        [
          298.13207547169804,
          228.72641509433961
        ],
        [
          267.4716981132075,
          312.2169811320755
        ],
        [
          361.5777151403589,
          389.0
        ],
        [
          431.62264150943395,
          381.5566037735849
        ],
        [
          429.7358490566038,
          169.76415094339623
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          154.73584905660377,
          100.89622641509435
        ],
        [
          209.45283018867926,
          97.59433962264151
        ],
        [
          208.50943396226413,
          119.76415094339623
        ],
        [
          161.81132075471695,
          121.17924528301887
        ],
        [
          155.67924528301884,
          100.4245283018868
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          187.75471698113208,
          213.6320754716981
        ],
        [
          196.24528301886792,
          215.99056603773585
        ],
        [
          196.24528301886792,
          239.10377358490567
        ],
        [
          188.69811320754715,
          240.99056603773585
        ],
        [
          188.69811320754715,
          212.21698113207546
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    },
    {
      "label": "stains",
      "points": [
        [
          248.13207547169807,
          237.21698113207546
        ],
        [
          281.62264150943395,
          234.38679245283018
        ],
        [
          268.41509433962267,
          256.0849056603774
        ],
        [
          235.86792452830187,
          248.53773584905662
        ],
        [
          247.188679245283,
          237.68867924528303
        ],
        [
          247.188679245283,
          237.68867924528303
        ]
      ],
      "group_id": null,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": null
    }
  ],
  "imagePath": "3651_before_hurricane.jpg",
  "imageData": "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIA+tZC65NbXgazQRZIA5/h9CKKKroDO4uts1nGxRcgY244rlNavns7+SGECOPaEYJ3zRRUwA527k3THrjJwKmXUTBaGKGMbixDSE8/gKKK1EVoszOJpnZ3G3r0/zzXbabrKsIIo0cB/lwT8q9uB+NFFTUA2Lm2SHTfvSFpjy4fDADt9KxL+1gtLRLiUNKTx25x60UVmtyjlmEbTO/wA21sEA84qSOWI2bQSCTepLh1bAH4UUV0sg1/D9sJ4vMEr+aY2zu5HtVbV1KXH2chCYxlpMHJoopR+IbM1VyDyehPP1xTyn8JJwvA70UVqSEkSkkc5PXPTFQyRlInjBG0DJ/wDrUUUAQ7trKfQ5q3eRkagMsTuCn9KKKBMniUS3ihmYknGc112hvFpeoGRIg2xc5I5oornrGlM6vQdSudTmubmZ/wCLaqdgK27vUTZQPMVLuvvgGiivOklc7FsN066l1ANNxGhbCqOcYzV+XUpmlit+D5q7jmiis2UjOuwdzZPP6VV8vfCxDEFe+KKKlES3KLMWiBJJOcdaqhdj4ySdxHNFFWiRync7Kp6DOSKuxGTgEggUUUPYpGvHC7pywAHTHvUv3ZdmSS3GTRRWRojV+zyiHCzbVOBwOmKRR5UoXcSzDrRRSGJt85VZjkj5ORjn1oRNoI8xyAeKKKAJ5BtjQqSO+T1qcviEkkkiiimMdkD1p8kSywurjIxnFFFIDkdNs4tRup4J3k8qMFygPBJ4rorPSre2tgkarszxxzn1oopiSRZW2iBPyg8dxSgtESqYC+lFFM0iI0W594OGH5CoZIYHieCRWKupUkdeaKKT3HI5jxDZzC7s4dOujaKwK7ggJAx1570unab5DYuJ2mRsMAFx0NFFN7GHU6Maim5T5bDfjGO1MvLmSC3mdDukjQsA/IoopI0ex4zcT3st1LIbXTcu5b/VnuaKKK6TKyP/2Q==",
  "imageHeight": 390,
  "imageWidth": 434
}



























































































































after coco
import json

# Provided annotations
annotations = {
    "info": {},
    "licenses": [],
    "categories": [
        {"id": 1, "name": "vegetation", "supercategory": "object"},
        {"id": 2, "name": "chimney", "supercategory": "object"},
        {"id": 3, "name": "stains", "supercategory": "object"},
        {"id": 4, "name": "yard_debris", "supercategory": "object"},
        {"id": 5, "name": "wears", "supercategory": "object"}
    ],
    "images": [
        {
            "id": 1,
            "file_name": "3651_after_hurricane.jpg",
            "width": 500,  # Replace with actual image width
            "height": 500  # Replace with actual image height
        }
    ],
    "annotations": []
}

# Provided annotations
shapes = [
    {"label": "vegetation", "points": [[7.566037735849051, 119.76415094339623], [57.56603773584905, 192.4056603773585], [70.77358490566036, 309.85849056603774], [128.7924528301887, 385.3301886792453], [2.8490566037735903, 385.3301886792453], [6.15094339622641, 121.65094339622642]]},
    {"label": "vegetation", "points": [[6.622641509433947, 7.028301886792469], [267.4716981132075, 1.8396226415094499], [255.2075471698113, 24.481132075471713], [3.7924528301886653, 28.25471698113209], [7.566037735849051, 5.1415094339622796]]},
    {"label": "chimney", "points": [[161.3396226415094, 146.6509433962264], [169.35849056603772, 146.17924528301887], [168.41509433962264, 155.61320754716982], [160.86792452830187, 155.61320754716982], [162.28301886792454, 146.6509433962264]]},
    {"label": "stains", "points": [[154.26415094339623, 106.08490566037736], [204.73584905660377, 107.97169811320755], [194.83018867924525, 127.78301886792454], [159.45283018867926, 127.31132075471699], [155.2075471698113, 104.66981132075472]]},
    {"label": "stains", "points": [[171.71698113207546, 286.74528301886795], [205.67924528301884, 289.1037735849057], [202.37735849056602, 297.122641509434], [174.54716981132074, 299.9528301886793], [170.3018867924528, 287.2169811320755]]},
    {"label": "stains", "points": [[205.67924528301884, 258.91509433962267], [246.24528301886792, 259.85849056603774], [252.37735849056602, 266.933962264151], [200.01886792452828, 271.1792452830189], [205.2075471698113, 259.3867924528302]]},
    {"label": "stains", "points": [[209.45283018867926, 245.70754716981133], [253.79245283018864, 244.29245283018867], [247.188679245283, 254.19811320754718], [201.43396226415095, 259.3867924528302], [207.0943396226415, 246.17924528301887]]},
    {"label": "stains", "points": [[216.0566037735849, 130.14150943396228], [235.39622641509433, 114.10377358490567], [238.69811320754715, 143.3490566037736], [219.83018867924525, 145.23584905660377], [215.58490566037736, 130.61320754716982]]},
    {"label": "yard_debris", "points": [[283.5094339622641, 219.76415094339623], [339.64150943396226, 206.5566037735849], [348.13207547169816, 295.235849
































































Here's the complete Python code to convert the provided annotations into COCO format:

```python
import json

def convert_to_coco(annotations):
    coco_data = {
        "info": {},
        "licenses": [],
        "categories": [
            {"id": 1, "name": "chimney", "supercategory": "object"},
            {"id": 2, "name": "vegetation", "supercategory": "object"},
            {"id": 3, "name": "stains", "supercategory": "object"}
        ],
        "images": [
            {
                "id": 1,
                "file_name": annotations["imagePath"],
                "width": annotations["imageWidth"],
                "height": annotations["imageHeight"]
            }
        ],
        "annotations": []
    }

    annotation_id = 1
    for shape in annotations["shapes"]:
        category_id = None
        for category in coco_data["categories"]:
            if category["name"] == shape["label"]:
                category_id = category["id"]
                break

        if shape["shape_type"] == "rectangle":
            x1, y1 = shape["points"][0]
            x2, y2 = shape["points"][1]
            width = abs(x2 - x1)
            height = abs(y2 - y1)
            area = width * height
            bbox = [x1, y1, width, height]

            coco_data["annotations"].append({
                "id": annotation_id,
                "image_id": 1,
                "category_id": category_id,
                "bbox": bbox,
                "area": area,
                "iscrowd": 0
            })
        elif shape["shape_type"] == "polygon":
            points = shape["points"]
            segmentation = [point for sublist in points for point in sublist]

            coco_data["annotations"].append({
                "id": annotation_id,
                "image_id": 1,
                "category_id": category_id,
                "segmentation": [segmentation],
                "area": 0,
                "bbox": [],
                "iscrowd": 0
            })

        annotation_id += 1

    return coco_data

annotations1 = {
  "version": "5.4.1",
  "flags": {},
  "shapes": [
    {
      "label": "chimney",
      "points": [
        [
          156.62264150943398,
          140.99056603773585
        ],
        [
          165.11320754716982,
          147.12264150943398
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "rectangle",
      "flags": {},
      "mask": None
    },
    {
      "label": "vegetation",
      "points": [
        [
          1.4339622641509493,
          1.8396226415094499
        ],
        [
          100.49056603773582,
          385.8018867924529
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "rectangle",
      "flags": {},
      "mask": None
    },
    {
      "label": "vegetation",
      "points": [
        [
          142.9433962264151,
          1.3679245283019028
        ],
        [
          293.88679245283015,
          47.59433962264153
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "rectangle",
      "flags": {},
      "mask": None
    },
    {
      "label": "vegetation",
      "points": [
        [
          429.2641509433962,
          170.23584905660377
        ],
        [
          298.13207547169804,
          228.72641509433961
        ],
        [
          267.4716981132075,
          312.2169811320755
        ],
        [
          361.5777151403589,
          389.0
        ],
        [
          431.62264150943395,
          381.5566037735849
        ],
        [
          429.7358490566038,
          169.76415094339623
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": None
    },
    {
      "label": "stains",
      "points": [
        [
          154.73584905660377,
          100.89622641509435
        ],
        [
          209.45283018867926,
          97.59433962264151
        ],
        [
          208.50943396226413,
          119.76415094339623
        ],
        [
          161.81132075471695,
          121.17924528301887
        ],
        [
          155.67924528301884,
          100.4245283018868
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": None
    },
    {
      "label": "stains",
      "points": [
        [
          187.75471698113208,
          213.6320754716981
        ],
        [
          196.24528301886792,
          215.99056603773585
        ],
        [
          196.24528301886792,
          239.10377358490567
        ],
        [
          188.69811320754715,
          240.99056603773585
        ],
        [
          188.69811320754715,
          212.21698113207546
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": None
    },
    {
      "label": "stains",
      "points": [
        [
          248.13207547169807,
          237.21698113207546
        ],
        [
          281.62264150943395,
          234.38679245283018
        ],
        [
          268.41509433962267,
          256.0849056603774
        ],
        [
          235.86792452830187,
          248.53773584905662
        ],
        [
          247.188679245283,
          237.68867924528303
        ],
        [
          247.188679245283,
          237.68867924528303
        ]
      ],
      "group_id": None,
      "description": "",
      "shape_type": "polygon",
      "flags": {},
      "mask": None
    }
  ],
  "imagePath": "3651_before_hurricane.jpg",
  "imageData": "/9j/4AA









import json

def convert_to_coco_format(data):
    coco_data = {
        "info": {},
        "licenses": [],
        "images": [],
        "annotations": [],
        "categories": []
    }

    # Adding categories
    categories = ["vegetation", "chimney", "stains", "yard_debris", "wears"]
    for i, category in enumerate(categories, 1):
        coco_data["categories"].append({
            "id": i,
            "name": category,
            "supercategory": category
        })

    # Adding image information
    image_info = {
        "id": 1,
        "width": data["imageWidth"],
        "height": data["imageHeight"],
        "file_name": data["imagePath"]
    }
    coco_data["images"].append(image_info)

    # Adding annotations
    for shape in data["shapes"]:
        label = shape["label"]
        category_id = categories.index(label) + 1
        points = shape["points"]
        x_coordinates = [point[0] for point in points]
        y_coordinates = [point[1] for point in points]
        x_min, x_max = min(x_coordinates), max(x_coordinates)
        y_min, y_max = min(y_coordinates), max(y_coordinates)
        width = x_max - x_min
        height = y_max - y_min

        annotation = {
            "id": len(coco_data["annotations"]) + 1,
            "image_id": 1,
            "category_id": category_id,
            "segmentation": [],
            "area": width * height,
            "bbox": [x_min, y_min, width, height],
            "iscrowd": 0
        }
        coco_data["annotations"].append(annotation)

    return coco_data

# Load JSON data
with open('data.json', 'r') as f:
    json_data = json.load(f)

# Convert to COCO format
coco_data = convert_to_coco_format(json_data)

# Write to JSON file
with open('coco_annotations.json', 'w') as f:
    json.dump(coco_data, f, indent=4)







































    
